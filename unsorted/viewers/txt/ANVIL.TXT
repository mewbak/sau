Файл ресурсов RES.00? игры ANVIL OF DAWN устроен так:
+0 DD число ресурсов в файле
+4 DD смещение в файле 1-го ресурса
+8 ... (так же для всех ресурсов)
+? DD смещение конца файла
Графический ресурс устроен так:
+00 DB 'D3GR' (идентификатор)
+04 DD флаги: бит 0 всегда 1
              биты 1-3 всегда 0
              бит 4 ─┐ 
              бит 5 ─┼─ неизвестно что (не 0 только в RES.001)
              бит 6 ─┘
              биты 7-11 всегда 0
              бит 12 - неизвестно что; при 1 в нем дв.слово в +10h не 0;
                       (не 0 только в RES.001)
              бит 13 - есть палитра
              биты 14-15 всегда 0
+08 DD смещение блока графических страниц или 0, если их нет
+0C DD смещение палитры или 0, если ее нет
+10 DD неизвестно что (бывает 20h,24h,28h,3Ch при 1 в 12 бите флагов)
+14 DD 0
+18 DD число графических страниц
+1C DD смещение 1-й графической страницы от начала блока (для нее - всегда 0)
+20 ... (так же для всех страниц)
Палитра устроена так:
+0 DW число цветов
+2 DW начальный цвет +100h
+4 DB*? собственно палитра
Однако следует заметить, что сама игра выполняет для своих палитр своего рода
гамма-коррекцию - подстройку яркости - так что палитра в файле не совсем
совпадает с палитрой в игре, и значения цветов могут отличаться довольно
сильно.
Графическая страница устроена так:
+00 DD размер
+04 DD тип: бит 0 - тело отсутствует
            бит 1 - тело не сжато
            бит 2 - тело сжато LZSS-методом
            биты 3-31 всегда 0
+08 DW собственный сдвиг слева
+0A DW собственный сдвиг сверху
+0C DW число строк в картинке
+0E DW число столбцов в картинке
+10 DB*? собственно тело картинки
Сжатое LZSS-методом тело картинки устроено так:
+0 DD число LZSS-блоков
+4 DD начальное смещение в буфере (всегда 0)
+8 DW*? сжатые данные
Раскодировка производится следующим образом: извлекается флаговое слово, каждый
бит которого (в порядке от младшего к старшему) означает:
1 - блок повторения: DW yyyxxxxxxxxxxxxx, по нему копируются (yyy+2) слов
    изображения начиная с ($-2*xxxxxxxxxxxxx) ($=текущий адрес в буфере)
0 - блок копирования: DW X, по нему просто пишется слово X в буфер.
По исчерпании битов флагового слова, извлекается новое. Раскодировка прерыва-
ется в момент, когда обработано заданное число LZSS-блоков.
Цвет 0 может быть прозрачным.

Только и всего...